vizlab: "0.1.7"
info:
  id: internal-analytics
  name: Visualization long name
  date: 2017-04-03
  publish-date: 2017-04-17
  path: /internal-analytics
  analytics-id: UA-78530187-1
  description: >-
    Describe project here
  thumbnail:
    url:
    width: 250
    height: 250
    alttext:
  required-packages:
    vizlab:
      repo: github
      version: 0.1.7
      name: USGS-VIZLAB/vizlab
      ref: v0.1.7
    dplyr:
      repo: CRAN
      version: 0.5.0
    googleAnalyticsR:
      repo: CRAN
      version: 0.5.1
    data.table:
      repo: CRAN
      version: 1.10.4
    sbtools:
      repo: CRAN
      version: 1.1.6
    assertthat:
      repo: CRAN
      version: 0.2.0
      
fetch:
  -
    id: fetchGA_cida
    login: cida #only fetch CIDA acct views
    fetcher: GAviews
    scripts: scripts/fetch/fetchGA.R
    location: cache/fetch/gaData.csv
    mimetype: text/csv
    remoteItemId: '58e56f3ce4b09da679997f7f' #'hybrid' fetcher, will check SB first
    update: FALSE #check for newer data from GA, and upload to sciencebase if there is
  -
    id: fetchGA_nwis
    login: nwis
    fetcher: GAviews
    scripts: scripts/fetch/fetchGA.R
    location: cache/fetch/gaData.csv
    mimetype: text/csv
    remoteItemId: '58e56f3ce4b09da679997f7f'
    update: TRUE
process:
  -
    id: clean_up_raw
    processor: clean_up_raw 
    scripts: scripts/process/clean_up_raw.R
    depends: fetchGA_cida
    mimetype: text/csv
    location: cache/process/clean_up_raw.csv
  -
    id: sessions_and_new_users
    processor: sessions_and_new_users 
    scripts: scripts/process/sessions_and_new_users.R
    depends: clean_up_raw
    reader: rds
    location: cache/process/sessions_and_new_users.rds
visualize:
  -
    id: viz_month_sessions
    visualizer: viz_month_sessions 
    scripts: scripts/visualize/viz_month_sessions.R
    depends: sessions_and_new_users
    reader: csv
    location: cache/visualize/viz_month_sessions.csv
publish:
  -
    id: openSans
    publisher: googlefont
    family: Open Sans
    weight: [300, 400, 600]
  -
    id: internalAnalyticsCSS
    location: layout/css/internalAnalytics.css
    mimetype: text/css
    publisher: resource
  -
    id: index
    name: index
    publisher: page
    template: fullpage
    depends:
      openSans: openSans
      header: header
      footer: footer
      frontPage: frontPage
      internalAnalyticsCSS: internalAnalyticsCSS
      headerCSS: lib-header-css
    context:
      header: header
      footer: footer
      sections: ["frontPage"]
      resources: ["openSans", "headerCSS", "internalAnalyticsCSS"]
  -
    id: projectPages
    publisher: projectpage
    scripts: scripts/publish/projectpage.R
    depends:
      header: header
      footer: footer
      internalAnalyticsCSS: internalAnalyticsCSS
      headerCSS: lib-header-css
      details: details
    context:
      header: header
      footer: footer
      sections: [ "details" ]
      resources: ["headerCSS", "internalAnalyticsCSS"]
  -
    id: header
    publisher: section
    template: header-template
    context:
      title: Water Analytics - Portfolio Daily Summary
  -
    id: frontPage
    template: layout/templates/frontPage.mustache
    publisher: section
  -
    id: details
    template: layout/templates/details.mustache
    publisher: section
  -
    id: footer
    publisher: section
    template: layout/templates/footer.mustache
    
